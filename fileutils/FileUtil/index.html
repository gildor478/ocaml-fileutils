<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>FileUtil (fileutils.FileUtil)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">fileutils</a> &#x00BB; FileUtil</nav><header class="odoc-preamble"><h1>Module <code><span>FileUtil</span></code></h1><p>POSIX utilities for files and directories.</p><p>A module to provide the core POSIX utilities to manipulate files and directories. All functions try to mimic common POSIX utilities but are written in pure OCaml.</p><ul class="at-tags"><li class="author"><span class="at-tag">author</span> Sylvain Le Gall</li></ul></header><nav class="odoc-toc"><ul><li><a href="#types-and-exceptions">Types and exceptions</a></li><li><a href="#permission">Permission</a></li><li><a href="#size-operation">Size operation</a></li><li><a href="#stat">stat</a></li><li><a href="#umask">umask</a></li><li><a href="#test">test</a></li><li><a href="#chmod">chmod</a></li><li><a href="#mkdir">mkdir</a></li><li><a href="#rm">rm</a></li><li><a href="#cp">cp</a></li><li><a href="#mv">mv</a></li><li><a href="#touch">touch</a></li><li><a href="#ls">ls</a></li><li><a href="#misc-operations">Misc operations</a></li></ul></nav><div class="odoc-content"><h3 id="types-and-exceptions"><a href="#types-and-exceptions" class="anchor"></a>Types and exceptions</h3><div class="odoc-spec"><div class="spec exception" id="exception-FileDoesntExist" class="anchored"><a href="#exception-FileDoesntExist" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">FileDoesntExist</span> <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a></span></code></div></div><div class="odoc-spec"><div class="spec exception" id="exception-RecursiveLink" class="anchored"><a href="#exception-RecursiveLink" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">RecursiveLink</span> <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-error_handler" class="anchored"><a href="#type-error_handler" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a error_handler</span></span><span> = <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Generic error handling functions. Whenever such a function is available it helps report the error and allows to raise an exception. The <code>string</code> provided is the human readable version of <code>'a</code>. In most cases <code>'a</code> is a polymorphic variant.</p></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Fatal" class="anchored"><a href="#exception-Fatal" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Fatal</span> <span class="keyword">of</span> string</span></code></div><div class="spec-doc"><p>Exception raised when after an <code>error_handler</code> the execution cannot continue. The rest of the workflow logic cannot handle the default case and the whole operation can be in the middle of transformation.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-action_link" class="anchored"><a href="#type-action_link" class="anchor"></a><code><span><span class="keyword">type</span> action_link</span><span> = </span></code><table><tr id="type-action_link.Follow" class="anchored"><td class="def variant constructor"><a href="#type-action_link.Follow" class="anchor"></a><code><span>| </span><span><span class="constructor">Follow</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>We consider link as simple directory (it is dangerous)</p><span class="comment-delim">*)</span></td></tr><tr id="type-action_link.Skip" class="anchored"><td class="def variant constructor"><a href="#type-action_link.Skip" class="anchor"></a><code><span>| </span><span><span class="constructor">Skip</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Just skip it</p><span class="comment-delim">*)</span></td></tr><tr id="type-action_link.SkipInform" class="anchored"><td class="def variant constructor"><a href="#type-action_link.SkipInform" class="anchor"></a><code><span>| </span><span><span class="constructor">SkipInform</span> <span class="keyword">of</span> <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Skip and execute an action</p><span class="comment-delim">*)</span></td></tr><tr id="type-action_link.AskFollow" class="anchored"><td class="def variant constructor"><a href="#type-action_link.AskFollow" class="anchor"></a><code><span>| </span><span><span class="constructor">AskFollow</span> <span class="keyword">of</span> <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Ask and wait for input, false means skip</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>Policy concerning links which are directories.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-interactive" class="anchored"><a href="#type-interactive" class="anchor"></a><code><span><span class="keyword">type</span> interactive</span><span> = </span></code><table><tr id="type-interactive.Force" class="anchored"><td class="def variant constructor"><a href="#type-interactive.Force" class="anchor"></a><code><span>| </span><span><span class="constructor">Force</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Do it anyway</p><span class="comment-delim">*)</span></td></tr><tr id="type-interactive.Ask" class="anchored"><td class="def variant constructor"><a href="#type-interactive.Ask" class="anchor"></a><code><span>| </span><span><span class="constructor">Ask</span> <span class="keyword">of</span> <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Promp the user</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>For certain command, you should need to ask the user wether or not he wants to act.</p></div></div><h3 id="permission"><a href="#permission" class="anchor"></a>Permission</h3><div class="odoc-spec"><div class="spec type" id="type-base_permission" class="anchored"><a href="#type-base_permission" class="anchor"></a><code><span><span class="keyword">type</span> base_permission</span><span> = </span><span>{</span></code><table><tr id="type-base_permission.sticky" class="anchored"><td class="def record field"><a href="#type-base_permission.sticky" class="anchor"></a><code><span>sticky : bool;</span></code></td></tr><tr id="type-base_permission.exec" class="anchored"><td class="def record field"><a href="#type-base_permission.exec" class="anchor"></a><code><span>exec : bool;</span></code></td></tr><tr id="type-base_permission.write" class="anchored"><td class="def record field"><a href="#type-base_permission.write" class="anchor"></a><code><span>write : bool;</span></code></td></tr><tr id="type-base_permission.read" class="anchored"><td class="def record field"><a href="#type-base_permission.read" class="anchor"></a><code><span>read : bool;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Base permission. This is the permission corresponding to one user or group.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-permission" class="anchored"><a href="#type-permission" class="anchor"></a><code><span><span class="keyword">type</span> permission</span><span> = </span><span>{</span></code><table><tr id="type-permission.user" class="anchored"><td class="def record field"><a href="#type-permission.user" class="anchor"></a><code><span>user : <a href="#type-base_permission">base_permission</a>;</span></code></td></tr><tr id="type-permission.group" class="anchored"><td class="def record field"><a href="#type-permission.group" class="anchor"></a><code><span>group : <a href="#type-base_permission">base_permission</a>;</span></code></td></tr><tr id="type-permission.other" class="anchored"><td class="def record field"><a href="#type-permission.other" class="anchor"></a><code><span>other : <a href="#type-base_permission">base_permission</a>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Full permission. All the base permissions of a file.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-permission_of_int" class="anchored"><a href="#val-permission_of_int" class="anchor"></a><code><span><span class="keyword">val</span> permission_of_int : <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-permission">permission</a></span></code></div><div class="spec-doc"><p>Translate POSIX integer permission.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-int_of_permission" class="anchored"><a href="#val-int_of_permission" class="anchor"></a><code><span><span class="keyword">val</span> int_of_permission : <span><a href="#type-permission">permission</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Return the POSIX integer permission</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Mode" class="anchored"><a href="#module-Mode" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Mode/index.html">Mode</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Permission symbolic mode.</p></div></div><h3 id="size-operation"><a href="#size-operation" class="anchor"></a>Size operation</h3><div class="odoc-spec"><div class="spec type" id="type-size" class="anchored"><a href="#type-size" class="anchor"></a><code><span><span class="keyword">type</span> size</span><span> = </span></code><table><tr id="type-size.TB" class="anchored"><td class="def variant constructor"><a href="#type-size.TB" class="anchor"></a><code><span>| </span><span><span class="constructor">TB</span> <span class="keyword">of</span> int64</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Tera bytes</p><span class="comment-delim">*)</span></td></tr><tr id="type-size.GB" class="anchored"><td class="def variant constructor"><a href="#type-size.GB" class="anchor"></a><code><span>| </span><span><span class="constructor">GB</span> <span class="keyword">of</span> int64</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Giga bytes</p><span class="comment-delim">*)</span></td></tr><tr id="type-size.MB" class="anchored"><td class="def variant constructor"><a href="#type-size.MB" class="anchor"></a><code><span>| </span><span><span class="constructor">MB</span> <span class="keyword">of</span> int64</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Mega bytes</p><span class="comment-delim">*)</span></td></tr><tr id="type-size.KB" class="anchored"><td class="def variant constructor"><a href="#type-size.KB" class="anchor"></a><code><span>| </span><span><span class="constructor">KB</span> <span class="keyword">of</span> int64</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Kilo bytes</p><span class="comment-delim">*)</span></td></tr><tr id="type-size.B" class="anchored"><td class="def variant constructor"><a href="#type-size.B" class="anchor"></a><code><span>| </span><span><span class="constructor">B</span> <span class="keyword">of</span> int64</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Bytes</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>File size</p></div></div><div class="odoc-spec"><div class="spec value" id="val-byte_of_size" class="anchored"><a href="#val-byte_of_size" class="anchor"></a><code><span><span class="keyword">val</span> byte_of_size : <span><a href="#type-size">size</a> <span class="arrow">&#45;&gt;</span></span> int64</span></code></div><div class="spec-doc"><p>Convert size to bytes.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-size_add" class="anchored"><a href="#val-size_add" class="anchor"></a><code><span><span class="keyword">val</span> size_add : <span><a href="#type-size">size</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-size">size</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-size">size</a></span></code></div><div class="spec-doc"><p>Add two sizes.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-size_compare" class="anchored"><a href="#val-size_compare" class="anchor"></a><code><span><span class="keyword">val</span> size_compare : <span>?fuzzy:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-size">size</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-size">size</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Compare two sizes, using the classical compare function. If fuzzy is set to true, the comparison is done on the most significant size unit of both value.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-string_of_size" class="anchored"><a href="#val-string_of_size" class="anchor"></a><code><span><span class="keyword">val</span> string_of_size : <span>?fuzzy:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-size">size</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Convert a value to a string representation. If fuzzy is set to true, only consider the most significant unit</p></div></div><h3 id="stat"><a href="#stat" class="anchor"></a>stat</h3><div class="odoc-spec"><div class="spec type" id="type-kind" class="anchored"><a href="#type-kind" class="anchor"></a><code><span><span class="keyword">type</span> kind</span><span> = </span></code><table><tr id="type-kind.Dir" class="anchored"><td class="def variant constructor"><a href="#type-kind.Dir" class="anchor"></a><code><span>| </span><span><span class="constructor">Dir</span></span></code></td></tr><tr id="type-kind.File" class="anchored"><td class="def variant constructor"><a href="#type-kind.File" class="anchor"></a><code><span>| </span><span><span class="constructor">File</span></span></code></td></tr><tr id="type-kind.Dev_char" class="anchored"><td class="def variant constructor"><a href="#type-kind.Dev_char" class="anchor"></a><code><span>| </span><span><span class="constructor">Dev_char</span></span></code></td></tr><tr id="type-kind.Dev_block" class="anchored"><td class="def variant constructor"><a href="#type-kind.Dev_block" class="anchor"></a><code><span>| </span><span><span class="constructor">Dev_block</span></span></code></td></tr><tr id="type-kind.Fifo" class="anchored"><td class="def variant constructor"><a href="#type-kind.Fifo" class="anchor"></a><code><span>| </span><span><span class="constructor">Fifo</span></span></code></td></tr><tr id="type-kind.Socket" class="anchored"><td class="def variant constructor"><a href="#type-kind.Socket" class="anchor"></a><code><span>| </span><span><span class="constructor">Socket</span></span></code></td></tr><tr id="type-kind.Symlink" class="anchored"><td class="def variant constructor"><a href="#type-kind.Symlink" class="anchor"></a><code><span>| </span><span><span class="constructor">Symlink</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 0.4.6</li></ul><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>Kind of file. This set is a combination of all POSIX file, some of them doesn't exist at all on certain file system or OS.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-stat" class="anchored"><a href="#type-stat" class="anchor"></a><code><span><span class="keyword">type</span> stat</span><span> = </span><span>{</span></code><table><tr id="type-stat.kind" class="anchored"><td class="def record field"><a href="#type-stat.kind" class="anchor"></a><code><span>kind : <a href="#type-kind">kind</a>;</span></code></td></tr><tr id="type-stat.is_link" class="anchored"><td class="def record field"><a href="#type-stat.is_link" class="anchor"></a><code><span>is_link : bool;</span></code></td></tr><tr id="type-stat.permission" class="anchored"><td class="def record field"><a href="#type-stat.permission" class="anchor"></a><code><span>permission : <a href="#type-permission">permission</a>;</span></code></td></tr><tr id="type-stat.size" class="anchored"><td class="def record field"><a href="#type-stat.size" class="anchor"></a><code><span>size : <a href="#type-size">size</a>;</span></code></td></tr><tr id="type-stat.owner" class="anchored"><td class="def record field"><a href="#type-stat.owner" class="anchor"></a><code><span>owner : int;</span></code></td></tr><tr id="type-stat.group_owner" class="anchored"><td class="def record field"><a href="#type-stat.group_owner" class="anchor"></a><code><span>group_owner : int;</span></code></td></tr><tr id="type-stat.access_time" class="anchored"><td class="def record field"><a href="#type-stat.access_time" class="anchor"></a><code><span>access_time : float;</span></code></td></tr><tr id="type-stat.modification_time" class="anchored"><td class="def record field"><a href="#type-stat.modification_time" class="anchor"></a><code><span>modification_time : float;</span></code></td></tr><tr id="type-stat.creation_time" class="anchored"><td class="def record field"><a href="#type-stat.creation_time" class="anchor"></a><code><span>creation_time : float;</span></code></td></tr><tr id="type-stat.device" class="anchored"><td class="def record field"><a href="#type-stat.device" class="anchor"></a><code><span>device : int;</span></code></td></tr><tr id="type-stat.inode" class="anchored"><td class="def record field"><a href="#type-stat.inode" class="anchor"></a><code><span>inode : int;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Information about a file. This type is derived from Unix.stat</p></div></div><div class="odoc-spec"><div class="spec value" id="val-stat" class="anchored"><a href="#val-stat" class="anchor"></a><code><span><span class="keyword">val</span> stat : <span>?dereference:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-stat">stat</a></span></code></div><div class="spec-doc"><p><code>stat fln</code> Return information about the file (like Unix.stat) Non POSIX command.</p></div></div><h3 id="umask"><a href="#umask" class="anchor"></a>umask</h3><div class="odoc-spec"><div class="spec exception" id="exception-UmaskError" class="anchored"><a href="#exception-UmaskError" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">UmaskError</span> <span class="keyword">of</span> string</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-umask_error" class="anchored"><a href="#type-umask_error" class="anchor"></a><code><span><span class="keyword">type</span> umask_error</span><span> = </span><span>[ </span></code><table><tr id="type-umask_error.Exc" class="anchored"><td class="def constructor"><a href="#type-umask_error.Exc" class="anchor"></a><code><span>| </span></code><code><span>`Exc <span class="keyword">of</span> exn</span></code></td></tr><tr id="type-umask_error.NoStickyBit" class="anchored"><td class="def constructor"><a href="#type-umask_error.NoStickyBit" class="anchor"></a><code><span>| </span></code><code><span>`NoStickyBit <span class="keyword">of</span> int</span></code></td></tr></table><code><span> ]</span></code></div><div class="spec-doc"><p>Possible umask errors.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-umask" class="anchored"><a href="#val-umask" class="anchor"></a><code><span><span class="keyword">val</span> umask : 
  <span>?error:<span><a href="#type-umask_error">umask_error</a> <a href="#type-error_handler">error_handler</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>?mode:<span>[&lt; <span>`Octal of int</span> <span><span>| `Symbolic</span> of <a href="Mode/index.html#type-t">Mode.t</a></span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>[&lt; <span>`Octal of <span>int <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span> <span><span>| `Symbolic</span> of <span><a href="Mode/index.html#type-t">Mode.t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Get or set the file mode creation mask. See <a href="http://pubs.opengroup.org/onlinepubs/007904875/utilities/umask.html">POSIX documentation</a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-umask_apply" class="anchored"><a href="#val-umask_apply" class="anchor"></a><code><span><span class="keyword">val</span> umask_apply : <span>int <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Apply umask to a given file permission.</p></div></div><h3 id="test"><a href="#test" class="anchor"></a>test</h3><div class="odoc-spec"><div class="spec type" id="type-test_file" class="anchored"><a href="#type-test_file" class="anchor"></a><code><span><span class="keyword">type</span> test_file</span><span> = </span></code><table><tr id="type-test_file.Is_dev_block" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Is_dev_block" class="anchor"></a><code><span>| </span><span><span class="constructor">Is_dev_block</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE is block special</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Is_dev_char" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Is_dev_char" class="anchor"></a><code><span>| </span><span><span class="constructor">Is_dev_char</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE is character special</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Is_dir" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Is_dir" class="anchor"></a><code><span>| </span><span><span class="constructor">Is_dir</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE is a directory</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Exists" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Exists" class="anchor"></a><code><span>| </span><span><span class="constructor">Exists</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE exists</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Is_file" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Is_file" class="anchor"></a><code><span>| </span><span><span class="constructor">Is_file</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE is a regular file</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Is_set_group_ID" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Is_set_group_ID" class="anchor"></a><code><span>| </span><span><span class="constructor">Is_set_group_ID</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE is set-group-ID</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Has_sticky_bit" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Has_sticky_bit" class="anchor"></a><code><span>| </span><span><span class="constructor">Has_sticky_bit</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE has its sticky bit set</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Is_link" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Is_link" class="anchor"></a><code><span>| </span><span><span class="constructor">Is_link</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE is a symbolic link</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Is_pipe" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Is_pipe" class="anchor"></a><code><span>| </span><span><span class="constructor">Is_pipe</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE is a named pipe</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Is_readable" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Is_readable" class="anchor"></a><code><span>| </span><span><span class="constructor">Is_readable</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE is readable</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Is_writeable" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Is_writeable" class="anchor"></a><code><span>| </span><span><span class="constructor">Is_writeable</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE is writeable</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Size_not_null" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Size_not_null" class="anchor"></a><code><span>| </span><span><span class="constructor">Size_not_null</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE has a size greater than zero</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Size_bigger_than" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Size_bigger_than" class="anchor"></a><code><span>| </span><span><span class="constructor">Size_bigger_than</span> <span class="keyword">of</span> <a href="#type-size">size</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE has a size greater than given size</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Size_smaller_than" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Size_smaller_than" class="anchor"></a><code><span>| </span><span><span class="constructor">Size_smaller_than</span> <span class="keyword">of</span> <a href="#type-size">size</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE has a size smaller than given size</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Size_equal_to" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Size_equal_to" class="anchor"></a><code><span>| </span><span><span class="constructor">Size_equal_to</span> <span class="keyword">of</span> <a href="#type-size">size</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE has the same size as given size</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Size_fuzzy_equal_to" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Size_fuzzy_equal_to" class="anchor"></a><code><span>| </span><span><span class="constructor">Size_fuzzy_equal_to</span> <span class="keyword">of</span> <a href="#type-size">size</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE has approximatively the same size as given size</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Is_socket" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Is_socket" class="anchor"></a><code><span>| </span><span><span class="constructor">Is_socket</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE is a socket</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Has_set_user_ID" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Has_set_user_ID" class="anchor"></a><code><span>| </span><span><span class="constructor">Has_set_user_ID</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE its set-user-ID bit is set</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Is_exec" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Is_exec" class="anchor"></a><code><span>| </span><span><span class="constructor">Is_exec</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE is executable</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Is_owned_by_user_ID" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Is_owned_by_user_ID" class="anchor"></a><code><span>| </span><span><span class="constructor">Is_owned_by_user_ID</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE is owned by the effective user ID</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Is_owned_by_group_ID" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Is_owned_by_group_ID" class="anchor"></a><code><span>| </span><span><span class="constructor">Is_owned_by_group_ID</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE is owned by the effective group ID</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Is_newer_than" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Is_newer_than" class="anchor"></a><code><span>| </span><span><span class="constructor">Is_newer_than</span> <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE1 is newer (modification date) than FILE2</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Is_older_than" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Is_older_than" class="anchor"></a><code><span>| </span><span><span class="constructor">Is_older_than</span> <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE1 is older than FILE2</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Is_newer_than_date" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Is_newer_than_date" class="anchor"></a><code><span>| </span><span><span class="constructor">Is_newer_than_date</span> <span class="keyword">of</span> float</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE is newer than given date</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Is_older_than_date" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Is_older_than_date" class="anchor"></a><code><span>| </span><span><span class="constructor">Is_older_than_date</span> <span class="keyword">of</span> float</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>FILE is older than given date</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.And" class="anchored"><td class="def variant constructor"><a href="#type-test_file.And" class="anchor"></a><code><span>| </span><span><span class="constructor">And</span> <span class="keyword">of</span> <a href="#type-test_file">test_file</a> * <a href="#type-test_file">test_file</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Result of TEST1 and TEST2</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Or" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Or" class="anchor"></a><code><span>| </span><span><span class="constructor">Or</span> <span class="keyword">of</span> <a href="#type-test_file">test_file</a> * <a href="#type-test_file">test_file</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Result of TEST1 or TEST2</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Not" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Not" class="anchor"></a><code><span>| </span><span><span class="constructor">Not</span> <span class="keyword">of</span> <a href="#type-test_file">test_file</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Result of not TEST</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Match" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Match" class="anchor"></a><code><span>| </span><span><span class="constructor">Match</span> <span class="keyword">of</span> string</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Compilable match (Str or PCRE or ...)</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.True" class="anchored"><td class="def variant constructor"><a href="#type-test_file.True" class="anchor"></a><code><span>| </span><span><span class="constructor">True</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Always true</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.False" class="anchored"><td class="def variant constructor"><a href="#type-test_file.False" class="anchor"></a><code><span>| </span><span><span class="constructor">False</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Always false</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Has_extension" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Has_extension" class="anchor"></a><code><span>| </span><span><span class="constructor">Has_extension</span> <span class="keyword">of</span> <a href="../FilePath/index.html#type-extension">FilePath.extension</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Check extension</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Has_no_extension" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Has_no_extension" class="anchor"></a><code><span>| </span><span><span class="constructor">Has_no_extension</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Check absence of extension</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Is_parent_dir" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Is_parent_dir" class="anchor"></a><code><span>| </span><span><span class="constructor">Is_parent_dir</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Basename is the parent dir</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Is_current_dir" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Is_current_dir" class="anchor"></a><code><span>| </span><span><span class="constructor">Is_current_dir</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Basename is the current dir</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Basename_is" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Basename_is" class="anchor"></a><code><span>| </span><span><span class="constructor">Basename_is</span> <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Check the basename</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Dirname_is" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Dirname_is" class="anchor"></a><code><span>| </span><span><span class="constructor">Dirname_is</span> <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Check the dirname</p><span class="comment-delim">*)</span></td></tr><tr id="type-test_file.Custom" class="anchored"><td class="def variant constructor"><a href="#type-test_file.Custom" class="anchor"></a><code><span>| </span><span><span class="constructor">Custom</span> <span class="keyword">of</span> <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Custom operation on filename</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>Pattern you can use to test file. If the file doesn't exist the result is always false.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-test" class="anchored"><a href="#val-test" class="anchor"></a><code><span><span class="keyword">val</span> test : 
  <span>?match_compile:<span>( <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span> bool )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-test_file">test_file</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span>
  bool</span></code></div><div class="spec-doc"><p>Test a file. See <a href="http://pubs.opengroup.org/onlinepubs/007904875/utilities/test.html">POSIX documentation</a>.</p></div></div><h3 id="chmod"><a href="#chmod" class="anchor"></a>chmod</h3><div class="odoc-spec"><div class="spec exception" id="exception-ChmodError" class="anchored"><a href="#exception-ChmodError" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">ChmodError</span> <span class="keyword">of</span> string</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-chmod_error" class="anchored"><a href="#type-chmod_error" class="anchor"></a><code><span><span class="keyword">type</span> chmod_error</span><span> = </span><span>[ </span></code><table><tr id="type-chmod_error.Exc" class="anchored"><td class="def constructor"><a href="#type-chmod_error.Exc" class="anchor"></a><code><span>| </span></code><code><span>`Exc <span class="keyword">of</span> exn</span></code></td></tr></table><code><span> ]</span></code></div><div class="spec-doc"><p>Possible chmod errors.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-chmod" class="anchored"><a href="#val-chmod" class="anchor"></a><code><span><span class="keyword">val</span> chmod : 
  <span>?error:<span><a href="#type-chmod_error">chmod_error</a> <a href="#type-error_handler">error_handler</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>?recurse:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span>[&lt; <span>`Octal of <span class="xref-unresolved">Unix</span>.file_perm</span> <span><span>| `Symbolic</span> of <a href="Mode/index.html#type-t">Mode.t</a></span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Change permissions of files. See <a href="http://pubs.opengroup.org/onlinepubs/007904875/utilities/chmod.html">POSIX documentation</a>.</p></div></div><h3 id="mkdir"><a href="#mkdir" class="anchor"></a>mkdir</h3><div class="odoc-spec"><div class="spec exception" id="exception-MkdirError" class="anchored"><a href="#exception-MkdirError" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">MkdirError</span> <span class="keyword">of</span> string</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-mkdir_error" class="anchored"><a href="#type-mkdir_error" class="anchor"></a><code><span><span class="keyword">type</span> mkdir_error</span><span> = </span><span>[ </span></code><table><tr id="type-mkdir_error.DirnameAlreadyUsed" class="anchored"><td class="def constructor"><a href="#type-mkdir_error.DirnameAlreadyUsed" class="anchor"></a><code><span>| </span></code><code><span>`DirnameAlreadyUsed <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a></span></code></td></tr><tr id="type-mkdir_error.Exc" class="anchored"><td class="def constructor"><a href="#type-mkdir_error.Exc" class="anchor"></a><code><span>| </span></code><code><span>`Exc <span class="keyword">of</span> exn</span></code></td></tr><tr id="type-mkdir_error.MissingComponentPath" class="anchored"><td class="def constructor"><a href="#type-mkdir_error.MissingComponentPath" class="anchor"></a><code><span>| </span></code><code><span>`MissingComponentPath <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a></span></code></td></tr><tr id="type-mkdir_error.MkdirChmod" class="anchored"><td class="def constructor"><a href="#type-mkdir_error.MkdirChmod" class="anchor"></a><code><span>| </span></code><code><span>`MkdirChmod <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a> * <span class="xref-unresolved">Unix</span>.file_perm * string * <a href="#type-chmod_error">chmod_error</a></span></code></td></tr></table><code><span> ]</span></code></div><div class="spec-doc"><p>Possible mkdir errors.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mkdir" class="anchored"><a href="#val-mkdir" class="anchor"></a><code><span><span class="keyword">val</span> mkdir : 
  <span>?error:<span><a href="#type-mkdir_error">mkdir_error</a> <a href="#type-error_handler">error_handler</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>?parent:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?mode:<span>[&lt; <span>`Octal of <span class="xref-unresolved">Unix</span>.file_perm</span> <span><span>| `Symbolic</span> of <a href="Mode/index.html#type-t">Mode.t</a></span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Create the directory which name is provided. Set <code>~parent</code> to true if you also want to create every directory of the path. Use mode to provide some specific right. See <a href="http://pubs.opengroup.org/onlinepubs/007904875/utilities/mkdir.html">POSIX documentation</a>.</p></div></div><h3 id="rm"><a href="#rm" class="anchor"></a>rm</h3><div class="odoc-spec"><div class="spec exception" id="exception-RmError" class="anchored"><a href="#exception-RmError" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">RmError</span> <span class="keyword">of</span> string</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-rm_error" class="anchored"><a href="#type-rm_error" class="anchor"></a><code><span><span class="keyword">type</span> rm_error</span><span> = </span><span>[ </span></code><table><tr id="type-rm_error.DirNotEmpty" class="anchored"><td class="def constructor"><a href="#type-rm_error.DirNotEmpty" class="anchor"></a><code><span>| </span></code><code><span>`DirNotEmpty <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a></span></code></td></tr><tr id="type-rm_error.Exc" class="anchored"><td class="def constructor"><a href="#type-rm_error.Exc" class="anchor"></a><code><span>| </span></code><code><span>`Exc <span class="keyword">of</span> exn</span></code></td></tr><tr id="type-rm_error.NoRecurse" class="anchored"><td class="def constructor"><a href="#type-rm_error.NoRecurse" class="anchor"></a><code><span>| </span></code><code><span>`NoRecurse <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a></span></code></td></tr></table><code><span> ]</span></code></div><div class="spec-doc"><p>Possible rm errors.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rm" class="anchored"><a href="#val-rm" class="anchor"></a><code><span><span class="keyword">val</span> rm : 
  <span>?error:<span><a href="#type-rm_error">rm_error</a> <a href="#type-error_handler">error_handler</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>?force:<a href="#type-interactive">interactive</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?recurse:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Remove the filename provided. Set <code>~recurse</code> to true in order to completely delete a directory. See <a href="http://pubs.opengroup.org/onlinepubs/007904875/utilities/rm.html">POSIX documentation</a>.</p></div></div><h3 id="cp"><a href="#cp" class="anchor"></a>cp</h3><div class="odoc-spec"><div class="spec exception" id="exception-CpError" class="anchored"><a href="#exception-CpError" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">CpError</span> <span class="keyword">of</span> string</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-cp_error" class="anchored"><a href="#type-cp_error" class="anchor"></a><code><span><span class="keyword">type</span> cp_error</span><span> = </span><span>[ </span></code><table><tr id="type-cp_error.CannotChmodDstDir" class="anchored"><td class="def constructor"><a href="#type-cp_error.CannotChmodDstDir" class="anchor"></a><code><span>| </span></code><code><span>`CannotChmodDstDir <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a> * exn</span></code></td></tr><tr id="type-cp_error.CannotCopyDir" class="anchored"><td class="def constructor"><a href="#type-cp_error.CannotCopyDir" class="anchor"></a><code><span>| </span></code><code><span>`CannotCopyDir <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a></span></code></td></tr><tr id="type-cp_error.CannotCopyFilesToFile" class="anchored"><td class="def constructor"><a href="#type-cp_error.CannotCopyFilesToFile" class="anchor"></a><code><span>| </span></code><code><span>`CannotCopyFilesToFile <span class="keyword">of</span> <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> list</span> * <a href="../FilePath/index.html#type-filename">FilePath.filename</a></span></code></td></tr><tr id="type-cp_error.CannotCreateDir" class="anchored"><td class="def constructor"><a href="#type-cp_error.CannotCreateDir" class="anchor"></a><code><span>| </span></code><code><span>`CannotCreateDir <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a> * exn</span></code></td></tr><tr id="type-cp_error.CannotListSrcDir" class="anchored"><td class="def constructor"><a href="#type-cp_error.CannotListSrcDir" class="anchor"></a><code><span>| </span></code><code><span>`CannotListSrcDir <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a> * exn</span></code></td></tr><tr id="type-cp_error.CannotOpenDstFile" class="anchored"><td class="def constructor"><a href="#type-cp_error.CannotOpenDstFile" class="anchor"></a><code><span>| </span></code><code><span>`CannotOpenDstFile <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a> * exn</span></code></td></tr><tr id="type-cp_error.CannotOpenSrcFile" class="anchored"><td class="def constructor"><a href="#type-cp_error.CannotOpenSrcFile" class="anchor"></a><code><span>| </span></code><code><span>`CannotOpenSrcFile <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a> * exn</span></code></td></tr><tr id="type-cp_error.CannotRemoveDstFile" class="anchored"><td class="def constructor"><a href="#type-cp_error.CannotRemoveDstFile" class="anchor"></a><code><span>| </span></code><code><span>`CannotRemoveDstFile <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a> * exn</span></code></td></tr><tr id="type-cp_error.DstDirNotDir" class="anchored"><td class="def constructor"><a href="#type-cp_error.DstDirNotDir" class="anchor"></a><code><span>| </span></code><code><span>`DstDirNotDir <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a></span></code></td></tr><tr id="type-cp_error.ErrorRead" class="anchored"><td class="def constructor"><a href="#type-cp_error.ErrorRead" class="anchor"></a><code><span>| </span></code><code><span>`ErrorRead <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a> * exn</span></code></td></tr><tr id="type-cp_error.ErrorWrite" class="anchored"><td class="def constructor"><a href="#type-cp_error.ErrorWrite" class="anchor"></a><code><span>| </span></code><code><span>`ErrorWrite <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a> * exn</span></code></td></tr><tr id="type-cp_error.Exc" class="anchored"><td class="def constructor"><a href="#type-cp_error.Exc" class="anchor"></a><code><span>| </span></code><code><span>`Exc <span class="keyword">of</span> exn</span></code></td></tr><tr id="type-cp_error.NoSourceFile" class="anchored"><td class="def constructor"><a href="#type-cp_error.NoSourceFile" class="anchor"></a><code><span>| </span></code><code><span>`NoSourceFile <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a></span></code></td></tr><tr id="type-cp_error.PartialWrite" class="anchored"><td class="def constructor"><a href="#type-cp_error.PartialWrite" class="anchor"></a><code><span>| </span></code><code><span>`PartialWrite <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a> * int * int</span></code></td></tr><tr id="type-cp_error.SameFile" class="anchored"><td class="def constructor"><a href="#type-cp_error.SameFile" class="anchor"></a><code><span>| </span></code><code><span>`SameFile <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a> * <a href="../FilePath/index.html#type-filename">FilePath.filename</a></span></code></td></tr><tr id="type-cp_error.UnhandledType" class="anchored"><td class="def constructor"><a href="#type-cp_error.UnhandledType" class="anchor"></a><code><span>| </span></code><code><span>`UnhandledType <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a> * <a href="#type-kind">kind</a></span></code></td></tr></table><code><span> ]</span></code></div><div class="spec-doc"><p>Possible cp errors.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cp" class="anchored"><a href="#val-cp" class="anchor"></a><code><span><span class="keyword">val</span> cp : 
  <span>?follow:<a href="#type-action_link">action_link</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?force:<a href="#type-interactive">interactive</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?recurse:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?preserve:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?error:<span><a href="#type-cp_error">cp_error</a> <a href="#type-error_handler">error_handler</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Copy the hierarchy of files/directory to another destination. See <a href="http://pubs.opengroup.org/onlinepubs/007904875/utilities/cp.html">POSIX documentation</a>.</p></div></div><h3 id="mv"><a href="#mv" class="anchor"></a>mv</h3><div class="odoc-spec"><div class="spec exception" id="exception-MvError" class="anchored"><a href="#exception-MvError" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">MvError</span> <span class="keyword">of</span> string</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-mv_error" class="anchored"><a href="#type-mv_error" class="anchor"></a><code><span><span class="keyword">type</span> mv_error</span><span> = </span><span>[ </span></code><table><tr id="type-mv_error.Exc" class="anchored"><td class="def constructor"><a href="#type-mv_error.Exc" class="anchor"></a><code><span>| </span></code><code><span>`Exc <span class="keyword">of</span> exn</span></code></td></tr><tr id="type-mv_error.MvCp" class="anchored"><td class="def constructor"><a href="#type-mv_error.MvCp" class="anchor"></a><code><span>| </span></code><code><span>`MvCp <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a> * <a href="../FilePath/index.html#type-filename">FilePath.filename</a> * string * <a href="#type-cp_error">cp_error</a></span></code></td></tr><tr id="type-mv_error.MvRm" class="anchored"><td class="def constructor"><a href="#type-mv_error.MvRm" class="anchor"></a><code><span>| </span></code><code><span>`MvRm <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a> * string * <a href="#type-rm_error">rm_error</a></span></code></td></tr><tr id="type-mv_error.NoSourceFile" class="anchored"><td class="def constructor"><a href="#type-mv_error.NoSourceFile" class="anchor"></a><code><span>| </span></code><code><span>`NoSourceFile</span></code></td></tr></table><code><span> ]</span></code></div><div class="spec-doc"><p>Possible mv errors.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mv" class="anchored"><a href="#val-mv" class="anchor"></a><code><span><span class="keyword">val</span> mv : 
  <span>?error:<span><a href="#type-mv_error">mv_error</a> <a href="#type-error_handler">error_handler</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>?force:<a href="#type-interactive">interactive</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Move files/directories to another destination. See <a href="http://pubs.opengroup.org/onlinepubs/007904875/utilities/mv.html">POSIX documentation</a>.</p></div></div><h3 id="touch"><a href="#touch" class="anchor"></a>touch</h3><div class="odoc-spec"><div class="spec type" id="type-touch_time_t" class="anchored"><a href="#type-touch_time_t" class="anchor"></a><code><span><span class="keyword">type</span> touch_time_t</span><span> = </span></code><table><tr id="type-touch_time_t.Touch_now" class="anchored"><td class="def variant constructor"><a href="#type-touch_time_t.Touch_now" class="anchor"></a><code><span>| </span><span><span class="constructor">Touch_now</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Use Unix.gettimeofday</p><span class="comment-delim">*)</span></td></tr><tr id="type-touch_time_t.Touch_file_time" class="anchored"><td class="def variant constructor"><a href="#type-touch_time_t.Touch_file_time" class="anchor"></a><code><span>| </span><span><span class="constructor">Touch_file_time</span> <span class="keyword">of</span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Get mtime of file</p><span class="comment-delim">*)</span></td></tr><tr id="type-touch_time_t.Touch_timestamp" class="anchored"><td class="def variant constructor"><a href="#type-touch_time_t.Touch_timestamp" class="anchor"></a><code><span>| </span><span><span class="constructor">Touch_timestamp</span> <span class="keyword">of</span> float</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Use GMT timestamp</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>Time for file</p></div></div><div class="odoc-spec"><div class="spec value" id="val-touch" class="anchored"><a href="#val-touch" class="anchor"></a><code><span><span class="keyword">val</span> touch : 
  <span>?atime:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?mtime:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?create:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?time:<a href="#type-touch_time_t">touch_time_t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Modify the timestamp of the given filename. See <a href="http://pubs.opengroup.org/onlinepubs/007904875/utilities/touch.html">POSIX documentation</a>. If atime and mtime are not specified, they are both considered true. If only atime or mtime is sepcified, the other is false.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">atime</span> <p>modify access time.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">mtime</span> <p>modify modification time.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">create</span> <p>if file doesn't exist, create it, default true</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">time</span> <p>what time to set, default Touch_now</p></li></ul></div></div><h3 id="ls"><a href="#ls" class="anchor"></a>ls</h3><div class="odoc-spec"><div class="spec value" id="val-filter" class="anchored"><a href="#val-filter" class="anchor"></a><code><span><span class="keyword">val</span> filter : <span><a href="#type-test_file">test_file</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> list</span></span></code></div><div class="spec-doc"><p>Apply a filtering pattern to a filename.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ls" class="anchored"><a href="#val-ls" class="anchor"></a><code><span><span class="keyword">val</span> ls : <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> list</span></span></code></div><div class="spec-doc"><p>List the content of a directory. See <a href="http://pubs.opengroup.org/onlinepubs/007904875/utilities/ls.html">POSIX documentation</a>.</p></div></div><h3 id="misc-operations"><a href="#misc-operations" class="anchor"></a>Misc operations</h3><div class="odoc-spec"><div class="spec value" id="val-pwd" class="anchored"><a href="#val-pwd" class="anchor"></a><code><span><span class="keyword">val</span> pwd : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a></span></code></div><div class="spec-doc"><p>Return the current dir. See <a href="http://pubs.opengroup.org/onlinepubs/007904875/utilities/pwd.html">POSIX documentation</a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-readlink" class="anchored"><a href="#val-readlink" class="anchor"></a><code><span><span class="keyword">val</span> readlink : <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span> <a href="../FilePath/index.html#type-filename">FilePath.filename</a></span></code></div><div class="spec-doc"><p>Resolve to the real filename removing symlink. Non POSIX command.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-which" class="anchored"><a href="#val-which" class="anchor"></a><code><span><span class="keyword">val</span> which : 
  <span>?path:<span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../FilePath/index.html#type-filename">FilePath.filename</a></span></code></div><div class="spec-doc"><p>Try to find the executable in the PATH. Use environement variable PATH if none is provided. Non POSIX command.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cmp" class="anchored"><a href="#val-cmp" class="anchor"></a><code><span><span class="keyword">val</span> cmp : 
  <span>?skip1:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?skip2:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span>
  <span>int option</span></span></code></div><div class="spec-doc"><p><code>cmp skip1 fln1 skip2 fln2</code> Compare files <code>fln1</code> and <code>fln2</code> starting at pos <code>skip1</code> <code>skip2</code> and returning the first octect where a difference occurs. Returns <code>Some -1</code> if one of the file is not readable or if it is not a file. See <a href="http://pubs.opengroup.org/onlinepubs/007904875/utilities/cmp.html">POSIX documentation</a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-du" class="anchored"><a href="#val-du" class="anchor"></a><code><span><span class="keyword">val</span> du : <span><span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-size">size</a> * <span><span>(<a href="../FilePath/index.html#type-filename">FilePath.filename</a> * <a href="#type-size">size</a>)</span> list</span></span></code></div><div class="spec-doc"><p><code>du fln_lst</code> Return the amount of space of all the file which are subdir of fln_lst. Also return details for each file scanned. See <a href="http://pubs.opengroup.org/onlinepubs/007904875/utilities/du.html">POSIX documentation</a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-find" class="anchored"><a href="#val-find" class="anchor"></a><code><span><span class="keyword">val</span> find : 
  <span>?follow:<a href="#type-action_link">action_link</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?match_compile:<span>( <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span> bool )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-test_file">test_file</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../FilePath/index.html#type-filename">FilePath.filename</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>find ~follow:fol tst fln exec accu</code> Descend the directory tree starting from the given filename and using the test provided. You cannot match <code>current_dir</code> and <code>parent_dir</code>. For every file found, the action <code>exec</code> is done, using the <code>accu</code> to start. For a simple file listing, you can use <code>find True &quot;.&quot; (fun x y -&gt; y :: x) []</code> See <a href="http://pubs.opengroup.org/onlinepubs/007904875/utilities/find.html">POSIX documentation</a>.</p></div></div><p>For future release:</p><ul><li><code>val pathchk: filename -&gt; boolean * string</code>, check whether file names are valid or portable</li><li><code>val setfacl: filename -&gt; permission -&gt; unit</code>, set file access control lists (UNIX + extended attribute)</li><li><code>val getfacl: filename -&gt; permission</code>, get file access control lists</li></ul><p>ACL related function will be handled through a plugin system to handle at runtime which attribute can be read/write (i.e. Win32 ACL, NFS acl, Linux ACL -- or none).</p></div></body></html>